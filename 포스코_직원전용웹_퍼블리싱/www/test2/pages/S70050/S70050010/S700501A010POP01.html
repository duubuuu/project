<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!--jquery import-->
        <!-- <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
          <link href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp" rel="stylesheet"> -->
          <link rel="stylesheet" type="text/css" href="../../../css/default.css" />
          <link rel="stylesheet" type="text/css" href="../../../js/vendor/modal/jquery.modal.0.9.1.css" />
          <link rel="stylesheet" type="text/css" href="../../../js/vendor/jquery/jquery-ui.css" />
          <link rel="stylesheet" type="text/css" href="../../../js/vendor/jqgrid/jqGrid.css" />
          <link rel="stylesheet" type="text/css" href="../../../js/jqGrid/css/ui.jqgrid.custom.css" />
          <link rel="stylesheet" type="text/css" href="../../../js/vendor/datepicker/datepicker.css" />
          <!-- <link rel="preconnect" href="https://fonts.gstatic.com"> -->
          <link rel="stylesheet" href="../../../css/laylab.css" />

          <script type="text/javascript" src="../../../js/vendor/jquery/jquery.min.js"></script>
          <script type="text/javascript" src="../../../js/vendor/jquery/jquery-ui.min.js"></script>
          <!--jqGrid import-->
          <script type="text/javascript" src="../../../js/vendor/jqgrid/jqGrid.min.js"></script>
          <script type="text/javascript" src="../../../js/vendor/util/grid.locale-kr.js"></script>
          <script type="text/javascript" src="../../../js/jqGrid/js/posjqgrid.js"></script>
          <script type="text/javascript" src="../../../js/jquery/jquery-migrate-1.2.1.min.js"></script>
          <script type="text/javascript" src="../../../js/bootstarp-datetimepicker/bootstrap-datetimepicker.js"></script>
          <script type="text/javascript" src="../../../js/bootstarp-datetimepicker/bootstrap-datetimepicker.ko.js"></script>

          <!--datepicker import-->
          <script type="text/javascript" src="../../../js/vendor/util/moment.js"></script>
          <script type="text/javascript" src="../../../js/vendor/util/moment.locale-kr.js"></script>
          <script type="text/javascript" src="../../../js/vendor/datepicker/daterangepicker.js"></script>
          <!-- jQuery Modal -->
          <script type="text/javascript" src="../../../js/vendor/modal/jquery-modal.0.9.1.js"></script>
          <script type="text/javascript" src="../../../js/components/modal/modal.js"></script>
          <!--font awesome-->
          <script type="text/javascript" src="../../../js/vendor/fontawesome/all.js"></script>

       <!--DEXT5 -->
          <script type="text/javascript" src="../../../dext5editor/js/dext5editor.js" type="text/javascript"></script>
          <script type="text/javascript" src="../../../sampleEditor/sample.common.js" type="text/javascript"></script>

         <script type="text/javascript" src="../../../js/common_util.js"></script>
         <script type="text/javascript" src="../../../js/project-util/common-comAjax.js"></script>
         <script type="text/javascript" src="../../../js/project-util/common-date.js"></script>
         <script type="text/javascript" src="../../../js/project-util/common-number.js"></script>
         <script type="text/javascript" src="../../../js/project-util/common-string.js"></script>
         <script type="text/javascript" src="../../../js/project-util/common-util.js"></script>
         <script type="text/javascript" src="../../../js/project-util/common-excel.js" charset="utf-8"></script>
         <script type="text/javascript" src="../../../js/project-util/common-comAjax.js" charset="utf-8"></script>

         <script type="text/javascript" src="../../../js/components/datePicker/date.js"></script>
         <script type="text/javascript" src="../../../js/components/panel/tab.js"></script>
         <script type="text/javascript" src="../../../js/components/renderer/render.js"></script>
         <script type="text/javascript" src="../../../js/common.js"></script>
        <title>사용자 권한 정보 등록</title>
        <style>
          .ui-widget.ui-widget-content {border: none;}
          .ui-jqgrid .ui-jqgrid-htable .ui-th-div{margin-top: 0; height: auto;}
        </style>
    </head>
    <body id="popup">
        <div id="root">
            <div class="ly-container">
                <!--ifram include sidebar -->
                <div class="ly-wrapper">
                    <main class="ly-contents">
                        <div class="ly-contents-boxed">
                            <div class="flex">
                                <div class="ly-contents-head">
                                    <h1 class="contents-title big_title">사용자 권한 정보 등록</h1>
                                </div>
                            </div>
                            <div class="contents-wrapper" id="accordionView1">
                                <!--부서별 제안통계 (상세) jqgrid start-->
                                <div class="table-row" id="S700201A010_jqGrid_container1">
                                    <table id="S700201A010_jqGrid_view1" style="width: 100%"></table>
                                </div>
                            </div>
                            <div class="control" style="margin: 0 auto; width: 210px;">
                                <div class="control-column item-right">
                                    <button class="ui button search" size="small">등록</button>
                                    <button class="ui button search" size="small">Reset</button>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            </div>
        </div>
        <script src="../../../js/common.js"></script>
        <script src="../../../js/components/panel/tab.js"></script>
        <script src="../../../js/components/renderer/render.js"></script>
        <script src="../../../js/components/pagenate/pager.js"></script>
        <script src="../../../js/components/panel/tab.js"></script>
        <script src="../../../js/components/renderer/render.js"></script>
        <script src="../../../js/components/pagenate/pager.js"></script>
        <script>
                var linkText = ["작업표준", "변경관리", "위험성평가"];
                var arr = ["#none", "#none", "#none"];
                var arr2 = ["필요", "불필요", "불필요사유"];

                //sample
                var setting =
                    "<div class='ui renderer-wrp left mgb4'>" +
                    "<a class='mgr10 pxw-80 left' href='" +
                    arr[0] +
                    "'>" +
                    linkText[0] +
                    "</a>" +
                    "<input type='checkbox' class='ui input checkbox' id='chk1' name='value1' value='001' checked />" +
                    "<label for='chk1'>" +
                    arr2[0] +
                    "</label>" +
                    "<input type='checkbox' class='ui input checkbox' id='chk2' name='value1' value='002'/>" +
                    "<label for='chk2'>" +
                    arr2[1] +
                    "</label>" +
                    "<input type='text' class='ui input mgl10 pxw-400' placeholder=" +
                    arr2[2] +
                    " id='001'></input>" +
                    "</div>" +
                    "<div class='ui renderer-wrp left mgb4'>" +
                    "<a class='mgr10 pxw-80 left' href='" +
                    arr[1] +
                    "'>" +
                    linkText[1] +
                    "</a>" +
                    "<input type='checkbox' class='ui input checkbox' id='chk3' name='value2' value='003'/>" +
                    "<label for='chk3'>" +
                    arr2[0] +
                    "</label>" +
                    "<input type='checkbox' class='ui input checkbox' id='chk4' name='value2' value='004' checked/>" +
                    "<label for='chk4'>" +
                    arr2[1] +
                    "</label>" +
                    "<input type='text' class='ui input mgl10 pxw-400' placeholder=" +
                    arr2[2] +
                    " id='003'></input>" +
                    "</div>" +
                    "<div class='ui renderer-wrp left mgb4'>" +
                    "<a class='mgr10 pxw-80 left' href='" +
                    arr[2] +
                    "'>" +
                    linkText[2] +
                    "</a>" +
                    "<input type='checkbox' class='ui input checkbox' id='chk5' name='value3' value='005' checked/>" +
                    "<label for='chk5'>" +
                    arr2[0] +
                    "</label>" +
                    "<input type='checkbox' class='ui input checkbox' id='chk6' name='value3' value='006'/>" +
                    "<label for='chk6'>" +
                    arr2[1] +
                    "</label>" +
                    "<input type='text' class='ui input mgl10 pxw-400' placeholder=" +
                    arr2[2] +
                    " id='005'></input>" +
                    "</div>";

                var setting2 =
                    "<div class='ui renderer-wrp'><textarea class='pw-100' style='min-height:150px' resizable='no' placeholder='평가결과 우수제안으로 판단시 간략한 사유를 작성해 주시기 바랍니다'></textarea></div>";

                //self재무평가 평가 항목별 디스플레이
                $("#S700201A010_jqGrid_view1").jqGrid({
                    datatype: "local", //json
                    colModel: [
                      {
                            label: "성명",
                            name: "col2",
                            width: 150,
                            align: "center",
                            sortable: false,
                            cellattr: cellMerge,
                            formatter: function (cellValue, options, rowObject) {
                                var result =
                                    '<input class="ui input pw-100" type="text" >' +
                                    "</div>";
                                return result;
                            },
                        },
                        {
                            label: "직번",
                            name: "col1",
                            class:"col1",
                            width: `200`,
                            align: "center",
                            sortable: false,
                            formatter: function openPopupBtn(cellValue, options, rowObject) {
                							var result =
                								'<div class="ui renderer-wrp">' +
                								'<input class="ui input pw-100" type="text" >' +
                								'<button class="ui button icon" onclick="opendModal()" style="box-shadow: none; background: transparent; border: none; ">' + '<svg height="24px" viewBox="0 0 24 24" width="24px" fill="#333333">' + '<path d="M0 0h24v24H0V0z" fill="none"/>' + '<path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>' + '</svg>' + '</button>' +"</div>";
                							return result;
                						},
                        },
                        {
                            label: "부서명",
                            name: "col3",
                            index: "col3",
                            width: 300,
                            align: "left",
                            sortable: false,
                            formatter: function (cellValue, options, rowObject) {
                                var result =
                                    '<input class="ui input pw-120" type="text" >' +
                                    "</div>";
                                return result;
                            },
                        },
                        {
                            label: "직책",
                            name: "col4",
                            width: 150,
                            align: "left",
                            sortable: false,
                            formatter: function (cellValue, options, rowObject) {
                                var result =
                                    '<input class="ui input pw-100" type="text" >' +
                                    "</div>";
                                return result;
                            },
                        },
                        {
                            label: "사용자 권한",
                            name: "col5",
                            width: 150,
                            align: "left",
                            sortable: false,
                            formatter: function (cellValue, options, rowObject) {
                                var result =
                                    '<div class="ui select2" style="width: 100%;">'+'<select class="ui input pw-100" style="height: 36px;" >'+'<option value="">선택</option>'+'<option value="">1차평가자(위임자)</option>'+
                                    '<option value="">부 재무성과 산정자</option>'+'<option value="">부심사위원</option>'+'<option value="">부업무담당자</option>'+
                                    '<option value="">소재무 검증자</option>'+'<option value="">소심사위원</option>'+'<option value="">제철소장, 부소장</option>'+
                                    '<option value="">소업무담당자</option>'+'<option value="">시스템관리자</option>'+'<option value="">제안리더</option>'+
                                    '<option value="">안전전문가</option>'+'<option value="">전사업무담당자</option>'+'<option value="">전사검증위원</option>'+
                                    "</div>";
                                return result;
                            },
                        },
                        {
                            label: "-",
                            classes:'none_border',
                            name: "col6",
                            width: 50,
                            align: "center",
                            sortable: false,
                            formatter: function (cellValue, options, rowObject) {
                                var result =
                                    '<div style="display: flex; justify-content: center;">' + '<svg enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#ea0000">' + '<rect fill="none" height="24" width="24"/><path d="M19,19H5V5h14V19z M3,3v18h18V3H3z M17,15.59L15.59,17L12,13.41L8.41,17L7,15.59L10.59,12L7,8.41L8.41,7L12,10.59L15.59,7 L17,8.41L13.41,12L17,15.59z"/>' + '</svg>' + '</div>';
                                    return result;
                            },
                        },
                    ],
                    data: [
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                        {
                        col2: "",
                        col3: "",
                        col4: "",
                        col5: "",
                        col6: ""
                        },
                    ],

                    viewrecords: true,
                    height: "auto",
                    autowidth: false,
                    shrinkToFit: false,
                    rowNum:10,
                    scrollOffset:"auto",
                    loadComplete: function () {
                        var bg = { "background-color": "#dbebfb" };
                        var ids = $("#S700201A010_jqGrid_view1").jqGrid("getDataIDs");
                        var gridData = $("#S700201A010_jqGrid_view1").jqGrid("getRowData");

                        $("#S700201A010_jqGrid_view1").jqGrid("setGroupHeaders",{
                          useColSpanStyle :true,
                          groupHeaders : [
                          ]
                        });

                    },
                });

                function cellMerge(rowId, cellvalue, rowObject, cm, rdata) {
                    //같은값 기준으로

                    var data = setting;

                    if (
                        rowObject.col2 == "<div class='ui renderer-wrp left'><input class='ui input pxw-200' type='text'><button class='ui button icon'><i class='fas fa-map-marker-alt'></i></button</div>"
                    ) {
                        return "colspan=2;";
                    }

                    if (rowObject.col2 == data) {
                        return "colspan=6;";
                    }

                    if (rowObject.col2 == setting2) {
                        return "colspan=6;";
                    }


                    if (rowObject.col2 == "<div class='ui renderer-wrp right'><input class='ui input pxw-120' type='text'><span>점</span></div>"){
                      return "colspan=6;"
                    }
                }

                function cellMerge2(rowId, cellvalue, rowObject, cm, rdata) {
                    //같은값 기준으로
                    if (rowObject.col4 == "<div class='ui renderer-wrp right'><input class='ui input pxw-120' type='text'><span>점</span></div>") {
                        return "colspan=3;";
                    }
                }

                $(window)
                    .bind("resize", function () {
                        $("#S700201A010_jqGrid_view1").setGridWidth($("#S700201A010_jqGrid_container1").width(), true);
                    })
                    .trigger("resize");
            </script>
        </script>

    </body>
</html>
